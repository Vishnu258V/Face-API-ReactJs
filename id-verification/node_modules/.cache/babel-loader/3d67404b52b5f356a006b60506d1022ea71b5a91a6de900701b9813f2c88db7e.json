{"ast":null,"code":"var _jsxFileName = \"C:\\\\FaceAPI\\\\id-verification\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport * as faceapi from 'face-api.js';\nimport idCardImage from \"./images/Vishnu_ID_Card.png\"; // Importing image\nimport selfieImage from \"./images/selfie-without-specs.jpg\"; // Importing image\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const idCardRef = useRef();\n  const selfieRef = useRef();\n  const isFirstRender = useRef(true);\n  const renderFace = async (image, x, y, width, height) => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    const context = canvas.getContext(\"2d\");\n    context === null || context === void 0 ? void 0 : context.drawImage(image, x, y, width, height, 0, 0, width, height);\n    canvas.toBlob(blob => {\n      image.src = URL.createObjectURL(blob);\n    }, \"image/jpeg\");\n  };\n  useEffect(() => {\n    // Prevent the function from executing on the first render\n    if (isFirstRender.current) {\n      isFirstRender.current = false; // toggle flag after first render/mounting\n      return;\n    }\n    (async () => {\n      // loading the models\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\"/models\");\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\");\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\");\n      await faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\");\n      await faceapi.nets.faceExpressionNet.loadFromUri(\"/models\");\n\n      // detect a single face from the ID card image\n      const idCardFacedetection = await faceapi.detectSingleFace(idCardRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n\n      // detect a single face from the selfie image\n      const selfieFacedetection = await faceapi.detectSingleFace(selfieRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n\n      //(OPTIONAL)\n      /**\n       * If a face was detected from the ID card image,\n       * call our renderFace() method to display the detected face.\n       */\n      if (idCardFacedetection) {\n        const {\n          x,\n          y,\n          width,\n          height\n        } = idCardFacedetection.detection.box;\n        renderFace(idCardRef.current, x, y, width, height);\n      }\n      //(OPTIONAL)\n      /**\n       * If a face was detected from the selfie image,\n       * call our renderFace() method to display the detected face.\n       */\n      if (selfieFacedetection) {\n        const {\n          x,\n          y,\n          width,\n          height\n        } = selfieFacedetection.detection.box;\n        renderFace(selfieRef.current, x, y, width, height);\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        ref: idCardRef,\n        src: idCardImage,\n        alt: \"ID card\",\n        style: {\n          height: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        ref: selfieRef,\n        src: selfieImage,\n        alt: \"Selfie\",\n        style: {\n          height: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"DP+2pY2vt372RXCbOVgYtZE0v8o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useRef","faceapi","idCardImage","selfieImage","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","idCardRef","selfieRef","isFirstRender","renderFace","image","x","y","width","height","canvas","document","createElement","context","getContext","drawImage","toBlob","blob","src","URL","createObjectURL","current","nets","ssdMobilenetv1","loadFromUri","tinyFaceDetector","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","idCardFacedetection","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceDescriptor","selfieFacedetection","detection","box","children","className","ref","alt","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/FaceAPI/id-verification/src/App.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport * as faceapi from 'face-api.js';\nimport idCardImage from \"./images/Vishnu_ID_Card.png\"; // Importing image\nimport selfieImage from \"./images/selfie-without-specs.jpg\"; // Importing image\n\nfunction App() {\n  const idCardRef = useRef();\n  const selfieRef = useRef();\n  const isFirstRender = useRef(true);\n\n  const renderFace = async (image, x, y, width, height) => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    const context = canvas.getContext(\"2d\");\n\n    context?.drawImage(image, x, y, width, height, 0, 0, width, height);\n    canvas.toBlob((blob) => {\n      image.src = URL.createObjectURL(blob);\n    }, \"image/jpeg\");\n  };\n\n  useEffect(() => {\n    // Prevent the function from executing on the first render\n    if (isFirstRender.current) {\n      isFirstRender.current = false; // toggle flag after first render/mounting\n      return;\n    }\n\n    (async () => {\n      // loading the models\n      await faceapi.nets.ssdMobilenetv1.loadFromUri(\"/models\");\n      await faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\");\n      await faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\");\n      await faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\");\n      await faceapi.nets.faceExpressionNet.loadFromUri(\"/models\");\n\n      // detect a single face from the ID card image\n      const idCardFacedetection = await faceapi\n        .detectSingleFace(\n          idCardRef.current,\n          new faceapi.TinyFaceDetectorOptions()\n        )\n        .withFaceLandmarks()\n        .withFaceDescriptor();\n\n      // detect a single face from the selfie image\n      const selfieFacedetection = await faceapi\n        .detectSingleFace(\n          selfieRef.current,\n          new faceapi.TinyFaceDetectorOptions()\n        )\n        .withFaceLandmarks()\n        .withFaceDescriptor();\n\n      //(OPTIONAL)\n      /**\n       * If a face was detected from the ID card image,\n       * call our renderFace() method to display the detected face.\n       */\n      if (idCardFacedetection) {\n        const { x, y, width, height } = idCardFacedetection.detection.box;\n        renderFace(idCardRef.current, x, y, width, height);\n      }\n      //(OPTIONAL)\n      /**\n       * If a face was detected from the selfie image,\n       * call our renderFace() method to display the detected face.\n       */\n      if (selfieFacedetection) {\n        const { x, y, width, height } = selfieFacedetection.detection.box;\n        renderFace(selfieRef.current, x, y, width, height);\n      }\n    })();\n  }, []);\n\n  return (\n    <>\n      <div className=\"gallery\">\n        <img\n          ref={idCardRef}\n          src={idCardImage}\n          alt=\"ID card\"\n          style={{ height: \"auto\" }}\n        />\n      </div>\n\n      <div className=\"gallery\">\n        <img\n          ref={selfieRef}\n          src={selfieImage}\n          alt=\"Selfie\"\n          style={{ height: \"auto\" }}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}